"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var records=document.getElementById("records"),starsEarned=0,Character=function(){function r(e,t,n){_classCallCheck(this,r),this.x=-100,this.y=50,this.sprite=""}return _createClass(r,[{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}}]),r}(),Enemy=function(e){function i(e,t,n){_classCallCheck(this,i);var r=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t,n));return r.x=-100,r.y=enemiesYPositions[Math.floor(Math.random()*enemiesYPositions.length)],r.speed=1,r.sprite="images/enemy-bug.png",r}return _inherits(i,Character),_createClass(i,[{key:"update",value:function(e){this.x+=150*e*this.speed,520<this.x&&(this.x=-100,this.y=enemiesYPositions[Math.floor(Math.random()*enemiesYPositions.length)])}}]),i}();function initialPlayerPosition(){player.y=390,player.x=200}var Player=function(e){function i(e,t,n){_classCallCheck(this,i);var r=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t,n));return r.x=200,r.y=390,r.speed=1,r.sprite="images/char-boy.png",r}return _inherits(i,Character),_createClass(i,[{key:"update",value:function(){-35==player.y&&(starsEarned++,initialPlayerPosition(),star.classList.add("star-loaded"),setTimeout(function(){star.classList.remove("star-loaded")},1e3)),document.getElementById("stars-number").innerHTML=starsEarned}},{key:"handleInput",value:function(e){switch(e){case"left":0<this.x&&(this.x-=100);break;case"right":this.x<400&&(this.x+=100);break;case"up":-35<this.y&&(this.y-=85);break;case"down":this.y<390&&(this.y+=85)}}}]),i}(),player=new Player,allEnemies=[],enemiesYPositions=[50,135,220];function getRandomArbitrary(e,t){return Math.random()*(t-e)+e}function enemiesSpeed(){allEnemies.forEach(function(e){e.speed=getRandomArbitrary(1,2.3)})}function createEnemies(){for(i=0;i<3;i++){var e=new Enemy;allEnemies.push(e)}}function checkCollisions(){allEnemies.forEach(function(e){var t=Math.round(e.x);player.x;player.x>t-50&&player.x<t+70&&player.y==e.y&&(starsEarned--,initialPlayerPosition(),dieAlert.classList.add("die-animation"),setTimeout(function(){dieAlert.classList.remove("die-animation")},600)),document.getElementById("stars-number").innerHTML=starsEarned})}createEnemies(),enemiesSpeed(),document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])});